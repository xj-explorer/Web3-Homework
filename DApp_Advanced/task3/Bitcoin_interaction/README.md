# 比特币测试网络交互工具

这个项目提供了一个使用Go语言与比特币测试网络交互的基础框架，包括查询区块和发送交易等功能。

## 环境搭建

### 1. 安装Go语言环境
访问 [Go官方网站](https://golang.org/dl/) 下载并安装适合您操作系统的Go版本。
安装完成后，设置 GOPATH 环境变量。

### 2. 安装依赖库
在项目目录下执行以下命令安装所需依赖：
```bash
go mod tidy
```

### 3. 获取比特币测试网络API Key (可选)
- 对于公共节点，通常不需要API Key
- 如需使用第三方服务(如BlockCypher)，请访问其官网注册获取API Key

### 4. 获取测试比特币
使用测试网络faucet获取免费测试币，例如：
- [CoinFaucet](https://coinfaucet.eu/en/btc-testnet/)
- [Mempool Faucet](https://testnet-faucet.mempool.co/)

## 使用方法

只需执行以下命令即可运行程序：
```bash
go run main.go

go build -o bitcoin-interaction.exe

./bitcoin-interaction.exe
```
程序会依次执行以下功能：

1. **生成测试网络地址和私钥**：生成一个测试网络地址和对应的私钥(WIF格式)，并保存到`pkey_address.json`文件中。请妥善保管您的私钥，不要分享给他人。

2. **查询区块信息**：查询指定高度的区块信息(默认查询高度为2500000的区块)。

3. **发送比特币交易**：使用生成的私钥和地址进行一笔小额交易(1000聪)，仅用于演示目的。

> 注意：实际使用时，您需要修改`main.go`文件中的参数值，特别是发送交易部分的私钥和地址。

## 代码结构

- `main.go`: 程序入口文件，处理命令行参数并调用相应功能
- `config.go`: 配置文件，包含比特币测试网络连接信息
- `block_query.go`: 区块查询功能，实现连接比特币测试网络并查询区块数据
- `transaction.go`: 交易发送功能，实现创建、签名和广播比特币交易

## 注意事项

1. 本项目仅用于与比特币测试网络交互，请勿在主网络上使用未经测试的代码
2. 请妥善保管您的私钥，不要分享给他人
3. 测试网络上的比特币没有实际价值，仅用于开发和测试
4. 发送交易时需要支付一定的手续费，以确保交易被矿工打包
5. 交易可能需要一些时间才能被确认，请耐心等待

## 常见问题

### 1. 连接比特币测试网络失败
请检查您的网络连接，或尝试使用其他公共节点。

### 2. 交易发送失败
可能的原因：
- 私钥无效
- 地址格式错误
- 余额不足
- 手续费过低
- 网络拥堵

### 3. 如何获取更多测试比特币
可以通过测试网络的faucet服务获取，通常需要验证您的身份或等待一段时间才能再次获取。

## 相关资源

- [比特币开发者文档](https://developer.bitcoin.org/)
- [btcd库文档](https://github.com/btcsuite/btcd)
- [比特币测试网络浏览器](https://blockstream.info/testnet/)